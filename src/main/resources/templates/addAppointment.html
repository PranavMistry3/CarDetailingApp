<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
<meta charset="UTF-8">
<title>Add Appointment</title>
</head>
<body class="container">
	<hr>
	<h1>Book a Appointment</h1>
	<br>
	<form method="post" th:action="@{/appointments}"
		th:object="${appointment}">
		<p class="form-group">
			<label>Date and Time:</label> <input type="datetime-local"
				class="form-control" th:field="*{appointmentDateTime}" required>
		</p>
		<p class="form-group">
			<label>Customer:</label> <select th:field="*{customer}"
				class="form-control" required>
				<option value="">Select a customer</option>
				<th:block th:each="customer : ${allCustomers}">
					<option th:value="${customer.id}" th:text="${customer.name}"></option>
				</th:block>
			</select>
		</p>

		<div class="form-group">
			<label for="carMake">Car Make:</label> <select th:field="*{carMake}"
				class="form-control">
				<option value="">Select a car make:</option>
				<option th:each="make : ${carMakes}" th:value="${make}"
					th:text="${make}"></option>
			</select>
		</div>

		<div class="form-group">
			<label for="carMake">Car Model:</label> <select
				th:field="*{carModel}" class="form-control">
				<option value="">Select a car model...</option>
				<option th:each="model : ${carModels}" th:value="${model}"
					th:text="${model.name()} + ' (' + ${model.getMake().name()} + ')'"></option>
			</select>
		</div>

		<div class="form-group">
			<label for="yearMade">Year:</label> <select th:field="*{yearMade}"
				class="form-control">
				<option value="">Select a year...</option>
				<option th:each="year : ${years}" th:value="${year}"
					th:text="${year}"></option>
			</select>
		</div>

		<div class="form-group">
			<label>Service Type:</label> <select th:field="*{serviceType}"
				class="form-control">
				<option value="">Select a service...</option>
				<option th:each="service : ${services}" th:value="${service}"
					th:text="${service.getName()}"></option>
			</select>
		</div>

		<p class="form-group">
			<label>Additional Details:</label>
			<textarea th:field="*{additionalDetails}" class="form-control"></textarea>
		</p>
		<div id="smart-button-container">
			<div style="text-align: center;">
				<div id="paypal-button-container"></div>
			</div>
		</div>
		<a href="/checkout" class="btn btn-primary">Checkout and Pay via Pay Pal</a>
	</form>
	<hr>
</body>
</html>
